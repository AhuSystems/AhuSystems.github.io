import{c as U,b as X,h as m,s as C,a as z,i as F,d as L,H as G,r as R,e as H,f as I,I as w,g as O,j as V,p as J,k as M,l as K,m as P,n as Q,o as W,q as Z,t as $,u as j,E as ee,v as ae,w as re,x as ne}from"./runtime.n64P4fcG.js";import{i as le,m as fe,s as D}from"./events.C4ePU7uU.js";function de(i,e){return e}function ie(i,e,r,s){for(var d=[],u=e.length,t=0;t<u;t++)K(e[t].e,d,!0);var h=u>0&&d.length===0&&r!==null;if(h){var _=r.parentNode;P(_),_.append(r),s.clear(),x(i,e[0].prev,e[u-1].next)}Q(d,()=>{for(var o=0;o<u;o++){var a=e[o];h||(s.delete(a.k),x(i,a.prev,a.next)),W(a.e,!h)}})}function oe(i,e,r,s,d,u=null){var t=i,h={flags:e,items:new Map,first:null};{var _=i;t=m?C(Z(_)):_.appendChild(U())}m&&z();var o=null,a=!1;X(()=>{var v=r(),l=F(v)?v:v==null?[]:L(v),n=l.length;if(a&&n===0)return;a=n===0;let p=!1;if(m){var y=t.data===G;y!==(n===0)&&(t=R(),C(t),H(!1),p=!0)}if(m){for(var g=null,f,c=0;c<n;c++){if(I.nodeType===8&&I.data===$){t=I,p=!0,H(!1);break}var A=l[c],T=s(A,c);f=Y(I,h,g,null,A,T,c,d,e),h.items.set(T,f),g=f}n>0&&C(R())}if(!m){var E=j;te(l,h,t,d,e,(E.f&w)!==0,s)}u!==null&&(n===0?o?O(o):o=V(()=>u(t)):o!==null&&J(o,()=>{o=null})),p&&H(!0),r()}),m&&(t=I)}function te(i,e,r,s,d,u,t){var h=i.length,_=e.items,o=e.first,a=o,v,l=null,n=[],p=[],y,g,f,c;for(c=0;c<h;c+=1){if(y=i[c],g=t(y,c),f=_.get(g),f===void 0){var A=a?a.e.nodes_start:r;l=Y(A,e,l,l===null?e.first:l.next,y,g,c,s,d),_.set(g,l),n=[],p=[],a=l.next;continue}if(se(f,y,c),f.e.f&w&&O(f.e),f!==a){if(v!==void 0&&v.has(f)){if(n.length<p.length){var T=p[0],E;l=T.prev;var N=n[0],b=n[n.length-1];for(E=0;E<n.length;E+=1)S(n[E],T,r);for(E=0;E<p.length;E+=1)v.delete(p[E]);x(e,N.prev,b.next),x(e,l,N),x(e,b,T),a=T,l=b,c-=1,n=[],p=[]}else v.delete(f),S(f,a,r),x(e,f.prev,f.next),x(e,f,l===null?e.first:l.next),x(e,l,f),l=f;continue}for(n=[],p=[];a!==null&&a.k!==g;)(u||!(a.e.f&w))&&(v??(v=new Set)).add(a),p.push(a),a=a.next;if(a===null)continue;f=a}n.push(f),l=f,a=f.next}if(a!==null||v!==void 0){for(var k=v===void 0?[]:L(v);a!==null;)(u||!(a.e.f&w))&&k.push(a),a=a.next;var q=k.length;if(q>0){var B=h===0?r:null;ie(e,k,B,_)}}M.first=e.first&&e.first.e,M.last=l&&l.e}function se(i,e,r,s){le(i.v,e),i.i=r}function Y(i,e,r,s,d,u,t,h,_){var o=(_&ae)!==0,a=(_&re)===0,v=o?a?fe(d):D(d):d,l=_&ee?D(t):t,n={i:l,v,k:u,a:null,e:null,prev:r,next:s};try{return n.e=V(()=>h(i,v,l),m),n.e.prev=r&&r.e,n.e.next=s&&s.e,r===null?e.first=n:(r.next=n,r.e.next=n.e),s!==null&&(s.prev=n,s.e.prev=n.e),n}finally{}}function S(i,e,r){for(var s=i.next?i.next.e.nodes_start:r,d=e?e.e.nodes_start:r,u=i.e.nodes_start;u!==s;){var t=ne(u);d.before(u),u=t}}function x(i,e,r){e===null?i.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}export{oe as e,de as i};
